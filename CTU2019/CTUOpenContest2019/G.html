<hr>
<p>title: Beer Mugs<br>date: 2000-2-16 15:16:17<br>categories:<br>    - CTU2019<br>tags:<br>    - conceal<br>mp3: <a href="http://domain.com/awesome.mp3" target="_blank" rel="noopener">http://domain.com/awesome.mp3</a></p>
<hr>
<p>Damian is a beer mug collector. His collection fifills most of the shelves in his vintage woodencabinet where all mugs are proudly displayed. The mugs are of various brands. There might be,and often are, more mugs of the same brand in the collection.</p>
<p>Mugs on a shelf in Damian’s collection always form a single symmetric row. Specififically, thesymmetry of the row means that the sequence of particular mug brands in the row is the samewhen the mugs are being admired one by one from left to right and when the mugs are beingadmired one by one from right to left. There is still one empty shelf in the cabinet and Damianlooks for an opportunity to fifill it with a new set of mugs. </p>
<p>The widely recognized Mastodon brewery (admired for its Woolly Mammoth beer) organizesannually the so-called beer season. Participants of the season are engaged in daily beer brewingactivities and are rewarded each day by a special collector mug. Each day in the season isassigned a particular mug brand. The mug brands for all days in the season are known inadvance, some brands may appear repeatedly in the season. </p>
<p>A participant may subscribe for the whole season or just for a part of the season. However, alldays of his or her participation have to be in one uninterrupted sequence of days, a participantcannot leave the season and then come back again after some days of absence. </p>
<p>Damian is keen to take part in the beer season. He decided that the set of mugs he brings homeshould be suited for his display without adding or removing any mug, and that the set shouldbe as big as possible. </p>
<p>Given the list of mug brands provided by the brewery for all days in the beer season, fifind the sizeof the biggest set of mugs suitable for Damian’s display which can be obtained by subscribingto some appropriately chosen part of the beer season. </p>
<ul>
<li>Input Specifification </li>
</ul>
<p>The fifirst input line contains integer N (1 &lt; N ≤ 300 000) the number of days in the brewerybeer season. The next line contains N characters representing the list of all beer mug brandsoffffered in the season, day by day. The list is naturally ordered from the fifirst day to the lastday of the season. Each brand is coded by a single lower case letter, from ’a’ to ’t’. The listcontains no blanks.</p>
<ul>
<li>Output Specifification </li>
</ul>
<p>Print a single integer representing the size of the biggest set of mugs which Damian can bringhome from the brewery beer season and which is suitable, without changes, for his collectiondisplay.</p>
<p>样例输入1</p>
<pre><code>6
abcabc</code></pre><p>样例输出1</p>
<pre><code>6</code></pre><p>样例输入2</p>
<pre><code>20
ghjahjghsajdjhlfslja</code></pre><p>样例输出2</p>
<pre><code>7</code></pre><p>样例输入3</p>
<pre><code>12
aabbccddabcd</code></pre><p>样例输出3</p>
<pre><code>9</code></pre><h4 id="题目大意"><a href="#题目大意" class="headerlink" title="题目大意"></a>题目大意</h4><p>   给你一串字符，然后选取其中最长的一段，这一段需要保证重新排序后可以组成回文序列</p>
<h4 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h4><p>   这个题想到了的话是真的不难，算法：异或前缀和<br>   这里用到了异或的性质， a ^ b ^ b = a<br>   如果令 a ~ t 分别对应一个位置的话，<br>   那么回文字符串（偶数串）一定会出现 a ^b ^b这种情况，最后一定还是a<br>   对于奇数串的话，只需要遍历一遍 a ~ t 对 a 的影响，<br>   如果存在 k 属于 a ~ t 使得 a’ ^ k = a,那么这个奇数串也可以达到回文<br>   综上所述，只需要记录每一个 新的 a出现的位置 如果是已经存在的<br>       ，那么这两个a所在的位置之间的字符串可以凑成回文</p>
<h4 id="AC码"><a href="#AC码" class="headerlink" title="AC码"></a>AC码</h4><pre><code class="cpp"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span>
<span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span>
<span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span>
<span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span>
<span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span>
<span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span>
<span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span>
<span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span>
<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bitset&gt;</span></span>
<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;

<span class="meta">#<span class="meta-keyword">define</span> INT_MAX 2147483647</span>
<span class="meta">#<span class="meta-keyword">define</span> INT_MIN (- INT_MAX - 1)</span>
<span class="meta">#<span class="meta-keyword">define</span> PI acos(-1)</span>

<span class="meta">#<span class="meta-keyword">define</span> in(x) (x) = read()</span>
<span class="meta">#<span class="meta-keyword">define</span> fre(x) for(int _=(x); _;_--)</span>
<span class="meta">#<span class="meta-keyword">define</span> frein() int in(Loop_var);while(Loop_var--)</span>

<span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span></span>
<span class="function"></span>{
    <span class="keyword">int</span> ans = <span class="number">0</span>, mark = <span class="number">1</span>;
    <span class="keyword">int</span> t = getchar();
    <span class="keyword">while</span> (t &lt; <span class="string">'0'</span> || t &gt; <span class="string">'9'</span>)
    {
        <span class="keyword">if</span> (t == <span class="string">'-'</span>)
            mark = <span class="number">-1</span>;
        t = getchar();
    }
    <span class="keyword">while</span> (t &lt;= <span class="string">'9'</span> &amp;&amp; t &gt;= <span class="string">'0'</span>)
    {
        ans = (ans &lt;&lt; <span class="number">3</span>) + (ans &lt;&lt; <span class="number">1</span>) + t - <span class="string">'0'</span>;
        t = getchar();
    }

    <span class="keyword">return</span> ans * mark;
};

<span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">3e5</span> + <span class="number">5</span>;
<span class="keyword">int</span> book[N];

<span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>
<span class="function"></span>{
    ios::sync_with_stdio(<span class="literal">false</span>);
    <span class="built_in">cin</span>.tie(<span class="number">0</span>);
    <span class="built_in">cout</span>.tie(<span class="number">0</span>);
    <span class="comment">//IO</span>

    <span class="keyword">int</span> n;
    <span class="keyword">int</span> sum = <span class="number">0</span>;
    <span class="keyword">int</span> ans = <span class="number">0</span>;
    book[<span class="number">0</span>] = <span class="number">-1</span>;
    <span class="built_in">string</span> s;
    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; s;
    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) 
    {
        sum ^= (<span class="number">1</span> &lt;&lt; (s[i] - <span class="string">'a'</span>));
        <span class="keyword">if</span> (!book[sum]) book[sum] = i;
        <span class="keyword">else</span> ans = max(ans, i - book[sum]);

        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">20</span>; j++) 
        {
            sum ^= (<span class="number">1</span> &lt;&lt; j);
            <span class="keyword">if</span> (book[sum])
                ans = max(ans, i - book[sum]);
            sum ^= (<span class="number">1</span> &lt;&lt; j);
        }
    }
    <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;
    <span class="keyword">return</span> <span class="number">0</span>;
}</code></pre>

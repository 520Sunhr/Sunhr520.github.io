<hr>
<p>title: Sixpack<br>date: 2000-2-16 15:16:17<br>categories:<br>    - CTU2019<br>tags:<br>    - conceal<br>mp3: <a href="http://domain.com/awesome.mp3" target="_blank" rel="noopener">http://domain.com/awesome.mp3</a></p>
<hr>
<p>The glossy fashionable National Gentlemen and Ladies Beer Magazine runs monthly conteststargeted primarily on young IT experts who are, of course, also the predominant subscribers ofthe Magazine. A contest is based on the so-called Sixpack puzzle, printed on the fifirst page ofthe Magazine on a stylish beer foam background. The puzzle consists of a rectangular grid withtwo rows and three or more columns. Some cells in the grid are empty, some contain a singledecimal digit, difffferent cells might contain difffferent digits. In extreme cases, the grid might beempty or it might be completely fifilled. Any three consecutive columns in the grid are called asixpack, hence the name of the puzzle.</p>
<p>The grid is accompanied with another integer K which is an integral part of the puzzle.</p>
<p>The task of the reader is to fifill each empty cell in the grid with a single digit, in such a waythat the sum of values in each sixpack is equal to K. Difffferent cells may contain difffferent digits.Next, the reader sends his or her solution of the puzzle to the advisory board of the magazine.The board keeps track of all the solutions they receive. When the reader’s solution is the sameas some other solution received earlier by the board, the reader does not win any prize. Whenthe reader’s solution diffffers from all solutions received by the board so far, the reader wins apackage of real beer sixpacks of a quality beer brand. The number of sixpacks in the packageis equal to the number of difffferent puzzle solutions which were at the possession of the boardimmediately after the moment the board received the reader’s solution.</p>
<p>Two solutions are considered difffferent if they diffffer in the contents of at least one cell in thegrid at the same position. </p>
<p>A reader can send in at most one solution. Any additional solution received from the samereader is always dismissed. The secretary of the board guarantees that the board never receivestwo or more solutions at the same moment in time. </p>
<p>Given a particular Sixpack puzzle, calculate the maximum number of beer sixpacks a Magazinereader can win in the respective contest. The Magazine is so popular you can be sure that thenumber of magazine readers is higher than the number of unique solutions of the puzzle. </p>
<ul>
<li>Input Specifification </li>
</ul>
<p>The input specififies one Sixpack puzzle. The fifirst input line contains three integers N (3 ≤ N ≤10^5), K (0 ≤ K ≤ 100) and M (0 ≤ M ≤ 2 · 10^5). N is the number of columns in the grid, Kspecififies the prescribed sum in each sixpack and M is the number of predefifined values in thegrid. Each of the following M lines contains three integers C (0 ≤ C ≤ N-1), R (0 ≤ R ≤ 1)and V (0 ≤ V ≤ 9). C and R specify the column and the row of the cell in the grid, V is thepredefifined value in that cell. Each cell’s value in the grid is specifified at most once.</p>
<ul>
<li>Output Specifification </li>
</ul>
<p>Output the maximum possible number of sixpacks a magazine reader can win. Print this numbermodulo 1 000 000 007. </p>
<p>样例输入1</p>
<pre><code>3 2 0</code></pre><p>样例输出1</p>
<pre><code>21</code></pre><p>样例输入2</p>
<pre><code>5 17 2
0 1 5
4 0 2</code></pre><p>样例输出2</p>
<pre><code>11580</code></pre>
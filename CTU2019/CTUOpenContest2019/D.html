<hr>
<p>title: Beer Flood<br>date: 2000-2-16 15:16:17<br>categories:<br>    - CTU2019<br>tags:<br>    - conceal<br>mp3: <a href="http://domain.com/awesome.mp3" target="_blank" rel="noopener">http://domain.com/awesome.mp3</a></p>
<hr>
<p>Triceratops brewery uses an intricate automated system of pipes to deliver their beer to manylocal pubs, restaurants and other points of interest. The system is called the Beer flflood system.Recently, the brewery is planning its major overhaul.</p>
<p>The system consists of one source station, one collector station, pumping stations and pipes. Thesource station is located in the brewery. All pumping stations are located in pubs, restaurants,etc. The location of the collector station is somewhat mysterious, however, it is not importantfor the system function. </p>
<p>The pipes connect some number of stations. The source station is connected to at least oneother station and also the collector station is connected to at least one other station. In theextreme case, when the collector station is identical to the source station, there are no pumpingstations and no pipes in the system. </p>
<p>The beer flflows from the source station through the pipes to other stations where some of itmay be (and often is) consumed. Remaining beer which is not consumed in a pumping stationautomatically continues to flflow through the pipes to other pumping station or stations or to thecollector station.</p>
<p>The direction of beer flflow in the system is always such that the beer which has left a stationcannot return to the same station again. A circular flflow of beer through any subset of stationsnever appears in the system. Also, the direction of beer flflow between any pair of connectedstations is fifixed and does not change over time. The size of the beer flflow from the source stationand through the system is suffiffifficient to supply all pumping stations. There is always some flflowof beer through each pipe in the system.</p>
<p>The current Beer flflood system was built a long time ago when computer-based optimizationwas only a dream of the future. Later it became clear that very probably some carefully chosenredundant pipes may be removed from the system and beer flflow through the remaining pipesadjusted in such way that the system main features will be preserved. In particular, all pumpingstations will still receive a suffiffifficient flflow of beer from the source station and all beer unconsumedin pumping stations will still reach the collector. Also, there will be again some flflow of beerthrough each pipe in the system and the direction of the beer flflow will not change in any ofthe remaining pipes. The capacity of all pipes is so big that the remaining pipes need not to beexpanded, even though the beer flflow through some of them is increased. </p>
<p>Given the topology of the Beer flflood system, calculate the maximum number of pipes that canbe removed from the system. </p>
<ul>
<li>Input Specifification </li>
</ul>
<p>The fifirst line contains two integers N, M (1 ≤ N ≤ 2000, 0 ≤ M ≤ 5000). N is the numberof all stations in the Beer flflood system, including the source station and the collector station.M is the number of pipes in the system. Stations are labeled by integers 1, 2, . . . , N. Next, Mlines follow, each specififies one pipe and the direction of beer flflow through it. The line containstwo integers X and Y (1 ≤ X, Y ≤ N; X = Y ), beer flflows from station X to station Y . Allpipes connect unique pairs of stations, no pipe connects a station to itself. In the input, there isexactly one station that receives no flflow, it is the source station. Also, from exactly one stationno beer flflows to any other station, it is the collector station. </p>
<ul>
<li>Output Specifification </li>
</ul>
<p>Output a single integer specifying the maximal number of pipes that can be removed from theBeer flflood system. </p>
<p>样例输入1</p>
<pre><code>5 6
2 4
3 5
2 5
1 4
2 3
5 1</code></pre><p>样例输出1</p>
<pre><code>2</code></pre><p>样例输入2</p>
<pre><code>4 4
1 2
1 3
2 4
3 4</code></pre><p>样例输出2</p>
<pre><code>0</code></pre>
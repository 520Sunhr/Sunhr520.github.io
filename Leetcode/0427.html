<hr>
<p>title: Leetcode-33-搜索旋转排序数组<br>date: 2020-04-27 09:17:15<br>tags: conceal</p>
<hr>
<p><a href="https://leetcode-cn.com/problems/search-in-rotated-sorted-array/" target="_blank" rel="noopener">Leetcode 33 搜索旋转排序数组</a></p>
<h3 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h3><p> 二分查找</p>
<pre><code class="cpp"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> {</span>
<span class="keyword">public</span>:
    <span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target)</span> </span>{
        <span class="keyword">if</span>(nums.empty()) <span class="keyword">return</span> <span class="number">-1</span>;
        <span class="keyword">if</span>(nums.size() == <span class="number">2</span>){
            <span class="keyword">if</span>(nums[<span class="number">0</span>] == target) <span class="keyword">return</span> <span class="number">0</span>;
            <span class="keyword">else</span> <span class="keyword">if</span>(nums[<span class="number">1</span>] == target) <span class="keyword">return</span> <span class="number">1</span>;
            <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">-1</span>;
        }

        <span class="keyword">int</span> l = <span class="number">0</span>, r = nums.size() - <span class="number">1</span>;
        <span class="keyword">while</span> (l &lt; r){
            <span class="keyword">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;
            <span class="keyword">if</span>(check(l, r, nums, target)) r = mid;
            <span class="keyword">else</span> l = mid + <span class="number">1</span>;
         }
         <span class="keyword">return</span> nums[l] == target ? l : <span class="number">-1</span>;
    }

    <span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target)</span></span>{
        <span class="keyword">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;
        <span class="keyword">if</span> (nums[l] &lt;= nums[mid] &amp;&amp; target &lt;= nums[mid] &amp;&amp; nums[l] &lt;= target)
            <span class="keyword">return</span> <span class="number">1</span>;
        <span class="keyword">if</span> (nums[l] &gt; nums[mid] &amp;&amp; (target &gt;= nums[l] || target &lt;= nums[mid]))
            <span class="keyword">return</span> <span class="number">1</span>;
        <span class="keyword">return</span> <span class="number">0</span>;
    }
};</code></pre>
